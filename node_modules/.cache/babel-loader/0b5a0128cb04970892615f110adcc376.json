{"ast":null,"code":"import _objectSpread from \"/Users/fanjing/ownproject/didact-react/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/fanjing/ownproject/didact-react/src/index.js\";\n\nfunction createTextElement(text) {\n  return {\n    type: 'TEXT_ELEMENT',\n    props: {\n      nodeValue: text,\n      children: []\n    }\n  };\n}\n\nfunction createElement(type, props) {\n  for (var _len = arguments.length, children = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    children[_key - 2] = arguments[_key];\n  }\n\n  return {\n    type: type,\n    props: _objectSpread(_objectSpread({}, props), {}, {\n      children: children.map(function (child) {\n        return typeof child === 'object' ? child : createTextElement(child);\n      })\n    })\n  };\n}\n\nfunction creatDom(fiber) {\n  var dom = fiber.type === 'TEXT_ELEMENT' ? document.createTextNode('') : document.createElement(fiber.type);\n\n  var isProperty = function isProperty(key) {\n    return key !== 'children';\n  };\n\n  Object.keys(fiber.props).filter(isProperty).forEach(function (name) {\n    dom[name] = fiber.props[name];\n  });\n  return dom;\n}\n\nfunction render(element, container) {\n  nextUnitOfWork = {\n    dom: container,\n    props: {\n      children: [element]\n    }\n  };\n}\n\nvar nextUnitOfWork = null;\n\nfunction workLoop(deadline) {\n  var shouldYield = false;\n\n  while (nextUnitOfWork !== null && !shouldYield) {\n    nextUnitOfWork = performUnitOfWork(nextUnitOfWork);\n    shouldYield = deadline.timeRemaining() < 1;\n  }\n\n  requestIdleCallback(workLoop);\n}\n\nrequestIdleCallback(workLoop);\n\nfunction performUnitOfWork(nextUnitOfWork) {}\n\nvar Didact = {\n  createElement: createElement,\n  render: render\n};\n/** @jsx Didact.createElement */\n\nvar element = Didact.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 3\n  }\n}, Didact.createElement(\"h1\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }\n}, Didact.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 7\n  }\n}), Didact.createElement(\"a\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 7\n  }\n})), Didact.createElement(\"h2\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }\n}));\nvar container = document.getElementById('root');\nDidact.render(element, container);","map":{"version":3,"sources":["/Users/fanjing/ownproject/didact-react/src/index.js"],"names":["createTextElement","text","type","props","nodeValue","children","createElement","map","child","creatDom","fiber","dom","document","createTextNode","isProperty","key","Object","keys","filter","forEach","name","render","element","container","nextUnitOfWork","workLoop","deadline","shouldYield","performUnitOfWork","timeRemaining","requestIdleCallback","Didact","getElementById"],"mappings":";;;AAAA,SAASA,iBAAT,CAA2BC,IAA3B,EAAiC;AAC/B,SAAO;AACLC,IAAAA,IAAI,EAAE,cADD;AAELC,IAAAA,KAAK,EAAE;AACLC,MAAAA,SAAS,EAAEH,IADN;AAELI,MAAAA,QAAQ,EAAE;AAFL;AAFF,GAAP;AAOD;;AAED,SAASC,aAAT,CAAuBJ,IAAvB,EAA6BC,KAA7B,EAAiD;AAAA,oCAAVE,QAAU;AAAVA,IAAAA,QAAU;AAAA;;AAC/C,SAAO;AACLH,IAAAA,IAAI,EAAJA,IADK;AAELC,IAAAA,KAAK,kCACAA,KADA;AAEHE,MAAAA,QAAQ,EAAEA,QAAQ,CAACE,GAAT,CAAa,UAACC,KAAD;AAAA,eAAY,OAAOA,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCR,iBAAiB,CAACQ,KAAD,CAAjE;AAAA,OAAb;AAFP;AAFA,GAAP;AAOD;;AAED,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,MAAMC,GAAG,GAAGD,KAAK,CAACR,IAAN,KAAe,cAAf,GAAgCU,QAAQ,CAACC,cAAT,CAAwB,EAAxB,CAAhC,GAA8DD,QAAQ,CAACN,aAAT,CAAuBI,KAAK,CAACR,IAA7B,CAA1E;;AAEA,MAAMY,UAAU,GAAG,SAAbA,UAAa,CAACC,GAAD;AAAA,WAASA,GAAG,KAAK,UAAjB;AAAA,GAAnB;;AAEAC,EAAAA,MAAM,CAACC,IAAP,CAAYP,KAAK,CAACP,KAAlB,EACGe,MADH,CACUJ,UADV,EAEGK,OAFH,CAEW,UAACC,IAAD,EAAU;AACjBT,IAAAA,GAAG,CAACS,IAAD,CAAH,GAAYV,KAAK,CAACP,KAAN,CAAYiB,IAAZ,CAAZ;AACD,GAJH;AAMA,SAAOT,GAAP;AACD;;AAED,SAASU,MAAT,CAAgBC,OAAhB,EAAyBC,SAAzB,EAAoC;AAClCC,EAAAA,cAAc,GAAG;AACfb,IAAAA,GAAG,EAAEY,SADU;AAEfpB,IAAAA,KAAK,EAAE;AACLE,MAAAA,QAAQ,EAAE,CAACiB,OAAD;AADL;AAFQ,GAAjB;AAMD;;AAED,IAAIE,cAAc,GAAG,IAArB;;AAEA,SAASC,QAAT,CAAkBC,QAAlB,EAA4B;AAC1B,MAAIC,WAAW,GAAG,KAAlB;;AAEA,SAAOH,cAAc,KAAK,IAAnB,IAA2B,CAACG,WAAnC,EAAgD;AAC9CH,IAAAA,cAAc,GAAGI,iBAAiB,CAACJ,cAAD,CAAlC;AACAG,IAAAA,WAAW,GAAGD,QAAQ,CAACG,aAAT,KAA2B,CAAzC;AACD;;AAEDC,EAAAA,mBAAmB,CAACL,QAAD,CAAnB;AACD;;AAEDK,mBAAmB,CAACL,QAAD,CAAnB;;AAEA,SAASG,iBAAT,CAA2BJ,cAA3B,EAA2C,CAAE;;AAE7C,IAAMO,MAAM,GAAG;AACbzB,EAAAA,aAAa,EAAbA,aADa;AAEbe,EAAAA,MAAM,EAANA;AAFa,CAAf;AAKA;;AACA,IAAMC,OAAO,GACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAFF,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EALF,CADF;AAUA,IAAMC,SAAS,GAAGX,QAAQ,CAACoB,cAAT,CAAwB,MAAxB,CAAlB;AAEAD,MAAM,CAACV,MAAP,CAAcC,OAAd,EAAuBC,SAAvB","sourcesContent":["function createTextElement(text) {\n  return {\n    type: 'TEXT_ELEMENT',\n    props: {\n      nodeValue: text,\n      children: [],\n    },\n  };\n}\n\nfunction createElement(type, props, ...children) {\n  return {\n    type,\n    props: {\n      ...props,\n      children: children.map((child) => (typeof child === 'object' ? child : createTextElement(child))),\n    },\n  };\n}\n\nfunction creatDom(fiber) {\n  const dom = fiber.type === 'TEXT_ELEMENT' ? document.createTextNode('') : document.createElement(fiber.type);\n\n  const isProperty = (key) => key !== 'children';\n\n  Object.keys(fiber.props)\n    .filter(isProperty)\n    .forEach((name) => {\n      dom[name] = fiber.props[name];\n    });\n\n  return dom;\n}\n\nfunction render(element, container) {\n  nextUnitOfWork = {\n    dom: container,\n    props: {\n      children: [element],\n    },\n  };\n}\n\nlet nextUnitOfWork = null;\n\nfunction workLoop(deadline) {\n  let shouldYield = false;\n\n  while (nextUnitOfWork !== null && !shouldYield) {\n    nextUnitOfWork = performUnitOfWork(nextUnitOfWork);\n    shouldYield = deadline.timeRemaining() < 1;\n  }\n\n  requestIdleCallback(workLoop);\n}\n\nrequestIdleCallback(workLoop);\n\nfunction performUnitOfWork(nextUnitOfWork) {}\n\nconst Didact = {\n  createElement,\n  render,\n};\n\n/** @jsx Didact.createElement */\nconst element = (\n  <div>\n    <h1>\n      <p />\n      <a />\n    </h1>\n    <h2 />\n  </div>\n);\n\nconst container = document.getElementById('root');\n\nDidact.render(element, container);\n"]},"metadata":{},"sourceType":"module"}